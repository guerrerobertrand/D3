<!DOCTYPE html>
<html>
<head>
     <meta charset="utf-8">
     <title>Deuxième histogramme</title>
     <script src="http://d3js.org/d3.v3.js"type="text/javascript"></script>
     <script type="text/javascript">
     function draw(dataset){
        //Largeur et hauteur du graphe
         var larg =500;
         var haut =100;
         var barPadding =2;//Padding des barres

        //Creation de l'élément SVG
         var svg = d3.select("body")
             .append("svg")
             .attr("width", larg)
             .attr("height", haut);
         
         svg.selectAll("rect")
             .data(dataset)
             .enter()
             .append("rect")
             .attr("x", function(d, i){
               //  return i *(20+ barPadding);//Largeur de 20 + 1 de padding
	 		     	return i * (larg / dataset.length);
             })
             .attr("y", function(d){
                // return haut -(d.valeur *2);// Hauteur - valeur
                   return haut - d * 4;  // Hauteur moins la valeur de la donnée
             })
            // .attr("width", 20)
             .attr("width", larg / dataset.length - barPadding)
             .attr("height", function(d){
                // return(d.valeur *2);// Valeur de la donnée
                return d * 4;  // Juste la valeur de la donnée
             })
             .attr("fill", "teal");
     }

     </script>
</head>
<body>
     <script type="text/javascript">
         d3.json("data/data2.json", draw);
     </script>
</body>
</html>